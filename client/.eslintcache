[{"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\index.js":"1","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\App.js":"2","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reportWebVitals.js":"3","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\Home.js":"4","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\Login.js":"5","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\Register.js":"6","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\components\\nav\\Header.js":"7","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\firebase.js":"8","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\RegisterComplete.js":"9","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reducers\\index.js":"10","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reducers\\userReducer.js":"11","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js":"12","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\functions\\auth.js":"13"},{"size":705,"mtime":1608052606760,"results":"14","hashOfConfig":"15"},{"size":1581,"mtime":1608176169882,"results":"16","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"17","hashOfConfig":"15"},{"size":122,"mtime":1607987153139,"results":"18","hashOfConfig":"15"},{"size":2837,"mtime":1608175643476,"results":"19","hashOfConfig":"15"},{"size":1485,"mtime":1608170618839,"results":"20","hashOfConfig":"15"},{"size":1785,"mtime":1608073188715,"results":"21","hashOfConfig":"15"},{"size":641,"mtime":1608167214074,"results":"22","hashOfConfig":"15"},{"size":2547,"mtime":1608175617343,"results":"23","hashOfConfig":"15"},{"size":242,"mtime":1608052263069,"results":"24","hashOfConfig":"15"},{"size":251,"mtime":1608056765844,"results":"25","hashOfConfig":"15"},{"size":1883,"mtime":1608075381111,"results":"26","hashOfConfig":"15"},{"size":472,"mtime":1608174797979,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"p9z45v",{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"30"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"30"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"30"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\index.js",[],["61","62"],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\App.js",["63"],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reportWebVitals.js",[],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\Home.js",[],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\Login.js",["64"],"import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {auth} from \"../../firebase\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"firebase/auth\";\r\n\r\nimport {Button} from 'antd';\r\nimport {\r\n    ImportOutlined,\r\n      MailOutlined,\r\n   } \r\n     from '@ant-design/icons';\r\n     import { Spin } from 'antd';\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\n\r\n\r\n\r\n\r\n\r\nconst Login = ({history}) => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const {user} = useSelector((state) =>({...state}));\r\n\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n\r\n        if(user && user.token) history.push(\"/\");\r\n    \r\n    },[user]);\r\n      \r\n\r\n\r\n    let dispatch = useDispatch();\r\n\r\nconst handleSubmit = async (e) =>{\r\n\r\ne.preventDefault();\r\n//console.table(email, password);\r\nsetLoading(true);\r\n\r\n\r\n\r\n\r\ntry{\r\n\r\n\r\nconst result =await auth.signInWithEmailAndPassword(email, password);\r\n   // console.log(result);\r\n\r\n   const {user} = result;\r\n   const idTokenResult = await user.getIdTokenResult();\r\n\r\n\r\n   createOrUpdateUser(idTokenResult.token)\r\n   .then((res) => {\r\n    dispatch({\r\n      type: \"LOGGED_IN_USER\",\r\n      payload: {\r\n        name: res.data.name,\r\n        email: res.data.email,\r\n        token: idTokenResult.token,\r\n        role: res.data.role,\r\n        _id: res.data._id,\r\n      },\r\n    });\r\n  })\r\n  .catch();\r\n\r\nhistory.push(\"/\");\r\n} catch (error) {\r\nconsole.log(error);\r\ntoast.error(error.message);\r\nsetLoading(false);\r\n}\r\n};\r\n\r\n\r\n\r\n\r\nconst loginForm = () =>\r\n(\r\n<form onSubmit={handleSubmit}>\r\n<div className=\"form-group\">\r\n<input\r\n type=\"email\" \r\nclassName=\"form-control\"\r\n value={email}\r\n  onChange={e =>\r\n  setEmail(e.target.value)} \r\n  placeholder=\"Your Email\"\r\n  autoFocus\r\n  />\r\n</div>\r\n\r\n\r\n<div className=\"form-group\">\r\n  <input\r\n type=\"password\" \r\nclassName=\"form-control\"\r\n value={password}\r\n  onChange={e =>\r\n  setPassword(e.target.value)} \r\n  placeholder=\"Password\"\r\n  />\r\n  </div>\r\n\r\n  <br/>\r\n\r\n<Button onClick={handleSubmit} \r\ntype=\"primary\"\r\nclassName=\"mb-3 \"\r\nblock\r\nshape=\"round\"\r\nicon ={<MailOutlined/>}\r\nsize=\"large\"\r\ndisabled={!email || password.length <6}\r\n>Login with Email/Password\r\n\r\n</Button>\r\n\r\n</form>\r\n\r\n\r\n);\r\nreturn (\r\n\r\n<div className=\"container p-5\">\r\n<div className=\"row\">\r\n<div className=\"col-md-6 offset-md-3\">\r\n\r\n{loading ? (<h4 > <Spin size=\"large\" tip=\"Loading...\">\r\n  \r\n  </Spin></h4>):\r\n  \r\n  \r\n  (<h1><ImportOutlined />   Login</h1> )}\r\n\r\n{loginForm()}\r\n\r\n\r\n\r\n<Link to=\"/forgot/password\" className=\"float-right text-danger\">Forgot Password</Link>\r\n</div>\r\n\r\n\r\n</div>\r\n</div>\r\n\r\n);\r\n\r\n\r\n};\r\n\r\nexport default Login;","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\Register.js",["65"],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\components\\nav\\Header.js",["66"],"import React, {useState} from 'react';\r\nimport {Menu, Switch} from 'antd';\r\nimport {\r\n    HomeOutlined, \r\n      \r\n     UserOutlined,\r\n     UserAddOutlined,\r\n     SettingOutlined, \r\n     LogoutOutlined} \r\n     from '@ant-design/icons';\r\nimport {Link} from 'react-router-dom';\r\nimport firebase from 'firebase';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport{useHistory} from'react-router-dom';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst { SubMenu, Item } = Menu;\r\n\r\n\r\nconst Header = () =>{\r\n\r\n\r\nconst [current, setCurrent] = useState(\"home\")\r\n\r\n\r\nlet dispatch = useDispatch();\r\n\r\nlet {user} = useSelector ((state)=>({...state}));\r\n\r\nlet history = useHistory();\r\n\r\n\r\nconst handleClick = (e) =>{\r\n//console.log(e.key);\r\nsetCurrent(e.key);\r\n\r\n};\r\n\r\nconst logout=()=>{\r\n\r\nfirebase.auth().signOut()\r\ndispatch({\r\n\r\n\r\n    type:\"LOGOUT\",\r\n    payload:null,\r\n});\r\n\r\nhistory.push(\"/login\");\r\n\r\n\r\n};\r\n\r\n\r\nreturn(\r\n    \r\n\r\n    <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\r\n     \r\n    <Item key=\"home\" icon={<HomeOutlined />}>\r\n        <Link to=\"/\">Home</Link>\r\n    </Item>\r\n\r\n\r\n\r\n   {!user &&    ( <Item key=\"register\" icon={<UserAddOutlined />} className=\"float-right\">\r\n       <Link to=\"/register\">Register</Link>\r\n    </Item>)}\r\n\r\n\r\n\r\n    {!user &&    ( <Item key=\"login\" icon={<UserOutlined />} className=\"float-right\">\r\n        <Link to=\"/login\">Login</Link>\r\n    </Item>)}\r\n \r\n \r\n \r\n \r\n {user && (\r\n    <SubMenu key=\"SubMenu\" icon={<SettingOutlined />} title={user.email && user.email.split('@')[0]} className=\"float-right\">\r\n    \r\n        <Item key=\"setting:1\">Option 1</Item>\r\n        <Item key=\"setting:2\">Option 2</Item>\r\n        <Item icon ={<LogoutOutlined/>} onClick={logout} >Log Out</Item>\r\n    </SubMenu>\r\n )}\r\n  </Menu>\r\n\r\n    \r\n)\r\n\r\n}\r\n\r\nexport default Header;\r\n","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\firebase.js",["67"],"import  firebase from 'firebase';\r\nimport \"firebase/auth\";\r\n\r\n\r\n  // Your web app's Firebase configuration\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyAFprZBnaQUVBwWqZlCY2Mog_TVuZoEzYI\",\r\n    authDomain: \"ecommerce-68399.firebaseapp.com\",\r\n    projectId: \"ecommerce-68399\",\r\n    storageBucket: \"ecommerce-68399.appspot.com\",\r\n    messagingSenderId: \"550085821349\",\r\n    appId: \"1:550085821349:web:d5df7a06c9138eff66de4c\"\r\n  };\r\n  // Initialize Firebase\r\n  const fire = firebase.initializeApp(firebaseConfig);\r\n  \r\n\r\n  //export\r\nexport const auth = firebase.auth();\r\n//export const googleProvider = new firebase.auth.GoogleAuthProvider();\r\n","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\RegisterComplete.js",["68"],"import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {auth} from \"../../firebase\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport { createOrUpdateUser } from \"../../functions/auth\";\r\nimport \"firebase/auth\"\r\n\r\n\r\n\r\n\r\n//\r\nconst RegisterComplete = ({history}) => {\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n\r\n\r\n    const {user} = useSelector((state) =>({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n\r\n//props.history\r\nuseEffect(()=>{\r\n\r\nsetEmail(window.localStorage.getItem('emailForRegistration'));\r\n\r\n\r\n}, []);\r\n\r\nconst handleSubmit = async (e) =>{\r\n\r\ne.preventDefault();\r\n//validation\r\n\r\nif(!email || !password){\r\n\r\ntoast.error('Email and password require');\r\nreturn;\r\n\r\n}\r\nif( password.length < 6){\r\n\r\n    toast.error('Password must be at least 6 character');\r\n    \r\n    return;\r\n    }\r\n\r\ntry {\r\n\r\nconst result = await auth.signInWithEmailLink(email, window.location.href);\r\n//console.log(\"RESULT\", result)\r\n\r\n\r\nif(result.user.emailVerified){\r\n// remove user email localstorage, get user Id token redux store, redirect\r\nwindow.localStorage.removeItem(\"emailForRegistration\");\r\nlet user = auth.currentUser\r\nawait user.updatePassword(password);\r\nconst idTokenResult = await user.getIdTokenResult();\r\n\r\nconsole.log(\"user\", user, 'idTokeResult', idTokenResult);\r\n\r\n\r\ncreateOrUpdateUser(idTokenResult.token)\r\n   .then((res) => {\r\n    dispatch({\r\n      type: \"LOGGED_IN_USER\",\r\n      payload: {\r\n        name: res.data.name,\r\n        email: res.data.email,\r\n        token: idTokenResult.token,\r\n        role: res.data.role,\r\n        _id: res.data._id,\r\n      },\r\n    });\r\n  })\r\n  .catch(err => console.log(err));\r\n\r\n\r\n\r\n\r\n\r\nhistory.push(\"/\")\r\n\r\n\r\n}\r\n} catch(error){\r\ntoast.error(error.message);\r\n//\r\n\r\n}\r\n\r\n};\r\n\r\n\r\nconst completeRegistrationForm = () =>\r\n(\r\n<form onSubmit={handleSubmit}>\r\n\r\n<input type=\"email\" className=\"form-control\"value={email}disabled />\r\n  \r\n<input type=\"password\" className=\"form-control\"value={password} onChange\r\n = {e => setPassword(e.target.value)} placeholder=\"Password\" autoFocus/>\r\n\r\n<br/>\r\n  <button type=\"submit\" className=\"btn btn-raised \">Complete Registration</button>\r\n</form>\r\n\r\n\r\n);\r\nreturn (\r\n\r\n<div className=\"container p-5\">\r\n<div className=\"row\">\r\n<div className=\"col-md-6 offset-md-3\">\r\n\r\n<h4>Register Complete!</h4>\r\n\r\n\r\n{completeRegistrationForm()}\r\n\r\n</div>\r\n\r\n\r\n</div>\r\n</div>\r\n\r\n);\r\n\r\n\r\n};\r\n\r\nexport default RegisterComplete;","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reducers\\index.js",["69"],"import { useReducer } from 'react';\r\nimport {combineReducers} from 'redux';\r\n\r\nimport{userReducer} from \"./userReducer\";\r\n const rootReducer = combineReducers({\r\n\r\n\r\nuser: userReducer,\r\n\r\n\r\n}\r\n    \r\n    );\r\n\r\n\r\n    export default rootReducer;","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\reducers\\userReducer.js",[],"C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js",["70"],"import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {auth} from \"../../firebase\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"firebase/auth\";\r\nimport {useSelector} from 'react-redux';\r\n\r\nconst ForgotPassword = ({ history }) => {\r\n    const [email, setEmail] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\nconst {user} = useSelector((state) =>({...state}));\r\n\r\n\r\nuseEffect(()=>{\r\n\r\n    if(user && user.token) history.push(\"/\");\r\n\r\n},[user]);\r\n  \r\n    const handleSubmit = async (e) => {\r\n      e.preventDefault();\r\n      setLoading(true);\r\n  \r\n      const config = {\r\n        url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT,\r\n        handleCodeInApp: true,\r\n      };\r\n  \r\n      await auth\r\n        .sendPasswordResetEmail(email, config)\r\n        .then(() => {\r\n          setEmail(\"\");\r\n          setLoading(false);\r\n          toast.success(\"Check your email for password reset link\");\r\n        })\r\n        .catch((error) => {\r\n          setLoading(false);\r\n          toast.error(error.message);\r\n          console.log(\"ERROR MSG IN FORGOT PASSWORD\", error);\r\n        });\r\n    };\r\n  \r\n    return (\r\n      <div className=\"container col-md-6 offset-md-3 p-5\">\r\n        {loading ? (\r\n          <h4 className=\"text-danger\">Loading</h4>\r\n        ) : (\r\n          <h4>Forgot Password</h4>\r\n        )}\r\n  \r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"email\"\r\n            className=\"form-control\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            placeholder=\"Type your email\"\r\n            autoFocus\r\n          />\r\n          <br />\r\n          <button className=\"btn btn-raised\" disabled={!email}>\r\n            Submit\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default ForgotPassword;\r\n  ","C:\\Users\\josef\\Desktop\\ecommerce\\client\\src\\functions\\auth.js",[],{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":58,"column":8,"nodeType":"77","endLine":58,"endColumn":10,"suggestions":"78"},{"ruleId":"75","severity":1,"message":"79","line":38,"column":7,"nodeType":"77","endLine":38,"endColumn":13,"suggestions":"80"},{"ruleId":"75","severity":1,"message":"79","line":25,"column":7,"nodeType":"77","endLine":25,"endColumn":13,"suggestions":"81"},{"ruleId":"82","severity":1,"message":"83","line":2,"column":15,"nodeType":"84","messageId":"85","endLine":2,"endColumn":21},{"ruleId":"82","severity":1,"message":"86","line":15,"column":9,"nodeType":"84","messageId":"85","endLine":15,"endColumn":13},{"ruleId":"82","severity":1,"message":"87","line":20,"column":12,"nodeType":"84","messageId":"85","endLine":20,"endColumn":16},{"ruleId":"82","severity":1,"message":"88","line":1,"column":10,"nodeType":"84","messageId":"85","endLine":1,"endColumn":20},{"ruleId":"75","severity":1,"message":"79","line":19,"column":3,"nodeType":"77","endLine":19,"endColumn":9,"suggestions":"89"},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["92"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["93"],["94"],"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'fire' is assigned a value but never used.","'user' is assigned a value but never used.","'useReducer' is defined but never used.",["95"],"no-global-assign","no-unsafe-negation",{"desc":"96","fix":"97"},{"desc":"98","fix":"99"},{"desc":"98","fix":"100"},{"desc":"98","fix":"101"},"Update the dependencies array to be: [dispatch]",{"range":"102","text":"103"},"Update the dependencies array to be: [history, user]",{"range":"104","text":"105"},{"range":"106","text":"105"},{"range":"107","text":"105"},[1202,1204],"[dispatch]",[866,872],"[history, user]",[492,498],[519,525]]